(window["webpackJsonpreact-ui"]=window["webpackJsonpreact-ui"]||[]).push([[0],{177:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(27),r=n.n(i),l=(n(71),n(72),n(2)),o=n(3),s=n(5),u=n(4),h=n(6),d=n(19),m=n(16),v=n(44),b=n(13),f=(n(46),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tags;return c.a.createElement("div",{className:"list-item-tag-container"}," \u6807\u7b7e\uff1a",e.map((function(e){return c.a.createElement("span",{key:e,className:"list-item-tag"},e)})))}}]),t}(a.Component)),g=n(59),p=n.n(g),j=n(187),O=n(186),E=n(184),w=n(185),y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){j.a.registerLanguage("jsx",E.a),j.a.registerLanguage("javascript",w.a)}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.value;return c.a.createElement("figure",{className:"highlight"},c.a.createElement(j.a,{language:t,style:O.a},n))}}]),t}(a.PureComponent);y.defaultProps={language:null};var k=y,C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.article;return c.a.createElement("div",null,c.a.createElement(p.a,{source:e,renderers:{code:k}}))}}]),t}(a.Component),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.time,a=e.tags,i=e.article_sub,r=e.detailA?{display:"inline-block"}:{display:"none"};return c.a.createElement("div",{className:"list-item"},c.a.createElement("h3",null,t),c.a.createElement(f,{tags:a}),c.a.createElement("div",{className:"list-item-time-container"},n),c.a.createElement(C,{article:i}),c.a.createElement("a",{style:r,href:window.location.href+"article?uid=22",target:"_blank"},"[\u67e5\u770b\u8be6\u60c5]"),c.a.createElement("hr",null))}}]),t}(a.Component),N=n(29),S=n.n(N),H=n(38),I="BEFORE_FETCH",L="FETCH_FAIL",_="FETCH_SUCCESS",A="MODIFY_HOME_PAGENUM";var T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:{display:"none",padding:"20px 20px 20px 0px"}},c.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",width:"100%",height:"30px"}},"\u516c\u544a"),c.a.createElement("div",null,"\u5730\u9707\u9884\u8b66\u56db\u5ddd\u7701\u91cd\u70b9\u5b9e\u9a8c\u5ba4\u4e3b\u4efb\u3001\u6210\u90fd\u9ad8\u65b0\u51cf\u707e\u7814\u7a76\u6240\u6240\u957f\u738b\u66be\u535a\u58eb\u8868\u793a\uff0c\u201c\u6751\u6751\u54cd\u201d\u63a5\u5165\u5730\u9707\u9884\u8b66\u529f\u80fd\uff0c\u662f\u5728\u5404\u5730\u5404\u7ea7\u653f\u5e9c\u7684\u6388\u6743\u4e0b\u3001\u76f8\u5173\u5355\u4f4d\u7d27\u5bc6\u5408\u4f5c\u7684\u7ed3\u679c\uff0c\u662f\u6253\u901a\u5730\u9707\u9884\u8b66\u201c\u6700\u540e\u4e00\u516c\u91cc\u201d\u7684\u91cd\u8981\u6e20\u9053\u3002"))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loadState:0},n.getLoadingStringState=n.getLoadingStringState.bind(Object(b.a)(n)),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getLoadingStringState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 1===e?"\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e......":2===e?"\u52a0\u8f7d\u5b8c\u6bd5!":"\u522b\u5212\u62c9\u4e86\uff0c\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684"}},{key:"render",value:function(){var e=this.props.loadState;return c.a.createElement("div",{style:{height:"50px",textAlign:"center"}},this.getLoadingStringState(e))}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={homeContent:[],loadState:0,pageNum:0},n.lastScrollTime=0,n.scrollHandler=n.scrollHandler.bind(Object(b.a)(n)),n.fetchContent=n.fetchContent.bind(Object(b.a)(n)),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"scrollHandler",value:function(){var e=S()(".content-container").height(),t=S()(window).height(),n=S()(window).scrollTop(),a=new Date;if(150+n>=e-t){if(a-this.lastScrollTime<500)return;this.lastScrollTime=a,this.fetchContent()}}},{key:"fetchContent",value:function(){var e=this,t="/Index/Index/subIndex?limit=8";if(0===this.state.pageNum)t="/Index/Index/subIndex?start=0&limit=".concat(8);else{var n=5*(this.state.pageNum-1)+8;t="/Index/Index/subIndex?start=".concat(n,"&limit=5")}this.setState({loadState:1}),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){if(0===t.result.length)e.setState({loadState:3});else{var n=e.state.pageNum+1;e.setState({loadState:2,pageNum:n,homeContent:[].concat(Object(v.a)(e.state.homeContent),Object(v.a)(t.result))})}}))}},{key:"componentWillUnmount",value:function(){console.log("will Unmount"+this.state.pageNum),window.removeEventListener("scroll",this.scrollHandler)}},{key:"componentDidMount",value:function(){console.log("Did Unmount"+this.state.pageNum),window.addEventListener("scroll",this.scrollHandler),this.fetchContent(0)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"content-container-left"}),c.a.createElement("div",{className:"content-container"},c.a.createElement("div",{className:"content-container-header"}),this.state.homeContent.map((function(e){return c.a.createElement(x,{key:e.uid,title:e.title,time:e.upload_time,tags:e.tags?e.tags.split("."):[],article_sub:e.article_sub,detailA:!0})})),c.a.createElement(D,{loadState:this.state.loadState})),c.a.createElement("div",{className:"content-container-right"},c.a.createElement(T,null),c.a.createElement("div",{className:"content-container-right-ajax-test",id:"content-container-right-ajax-test"})))}}]),t}(a.Component),W=(n(177),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={clientHeight:document.documentElement.clientHeight-80,clientWidth:document.documentElement.clientWidth},n.scrollTime=0,n.scrollHandler=n.scrollHandler.bind(Object(b.a)(n)),n.fetchContent=n.fetchContent.bind(Object(b.a)(n)),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"scrollHandler",value:function(){}},{key:"fetchContent",value:function(){}},{key:"render",value:function(){var e={width:this.state.clientWidth,height:this.state.clientHeight,border:"black",overflow:"auto",overflowX:"hidden",wordBreak:"break-all"};return c.a.createElement("div",{className:"scroll-div",style:e})}}]),t}(a.Component)),F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(W,null))}}]),t}(a.Component),P=(a.Component,n(178),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"article-con"},c.a.createElement("div",{className:"article-con-article"},c.a.createElement(x,{title:"sdsds",time:"2019-58-89",tags:["\u5475\u5475"],article_sub:"\u6c34\u7535\u8d39\u6da6\u80a4\u4e73"})),c.a.createElement("div",{className:"article-con-relate"},"sfdf"))}}]),t}(a.Component)),U=n(41),B=n.n(U),R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={navHide:!1},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.location.hash.indexOf("article")>0&&this.setState({navHide:!0}),window.addEventListener("hashchange",(function(){window.location.hash.indexOf("article")>0?e.setState({navHide:!0}):e.setState({navHide:!1}),console.log("hash change"+window.location)}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(d.HashRouter,null,c.a.createElement("div",{style:this.state.navHide?{height:"0px"}:{position:"fixed",backgroundColor:"#15436b",height:"70px",width:"100%",top:0,zIndex:2,textAlign:"center",boxShadow:"0px 2px 2px #888888"},className:"nav-container"},c.a.createElement("div",{className:"nav"},c.a.createElement("ul",null,c.a.createElement("li",{href:"/",className:"tab-head-home tab-head"},c.a.createElement(d.Link,{to:"/"},"\u9996\u9875")),c.a.createElement("li",{href:"/",className:"tab-head-about tab-head"},c.a.createElement(d.Link,{to:"/about"},"\u66f4\u65b0\u8bb0\u5f55")),c.a.createElement("li",{href:"/",className:"tab-head-about tab-head"},c.a.createElement(d.Link,{className:"item-hide",to:"/article"},"Article"))))),c.a.createElement("div",{style:this.state.navHide?{height:"0px",width:"100%"}:{height:"70px",width:"100%"},className:"content-container-top"}),c.a.createElement(U.CacheSwitch,null,c.a.createElement(B.a,{exact:!0,saveScrollPosition:!0,path:"/"},c.a.createElement(M,null)),c.a.createElement(m.d,{path:"/about"},c.a.createElement(F,null)),c.a.createElement(m.d,{path:"/Article"},c.a.createElement(P,null)))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(18),J=n(65),z={homeContent:[]};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{homeContent:[]};case _:return{homeContent:t.homeContent};case I:return{homeContent:[]};default:return e}},Y={pageNum:0};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{pageNum:t.pageNum};default:return e}},q=Object(G.c)({fetchReducer:X,pageReducer:$}),K=Object(G.d)(q,Object(G.a)(J.a));window.isProduct=!0,r.a.render(c.a.createElement(H.a,{store:K},c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},46:function(e,t,n){},66:function(e,t,n){e.exports=n(180)},71:function(e,t,n){},72:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.a70444c6.chunk.js.map