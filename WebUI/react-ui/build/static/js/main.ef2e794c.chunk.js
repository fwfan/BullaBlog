(window["webpackJsonpreact-ui"]=window["webpackJsonpreact-ui"]||[]).push([[0],{178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(28),l=a.n(r),c=(a(72),a(73),a(2)),o=a(3),s=a(5),u=a(4),d=a(6),m=a(19),h=a(16),v=a(20),b=a(7),f=(a(32),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tags;return i.a.createElement("div",{className:"list-item-tag-container"}," \u6807\u7b7e\uff1a",e.map((function(e){return i.a.createElement("span",{key:e,className:"list-item-tag"},e)})))}}]),t}(n.Component)),p=a(60),g=a.n(p),O=a(187),j=a(186),E=a(184),y=a(185),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){O.a.registerLanguage("jsx",E.a),O.a.registerLanguage("javascript",y.a)}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.value;return i.a.createElement("figure",{className:"highlight"},i.a.createElement(O.a,{language:t,style:j.a},a))}}]),t}(n.PureComponent);w.defaultProps={language:null};var x=w,N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.article;return i.a.createElement("div",null,i.a.createElement(g.a,{source:e,escapeHtml:!1,renderers:{code:x}}))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={demoUrl:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.time,n=e.tags,r=e.article_sub,l=e.detailA,c=e.uid,o=e.demoUrl,s=e.useDemoUrl,u=e.content_type,d=l&&u?{display:"inline-block"}:{display:"none"},m=l?{}:{minHeight:"800px"},h=l?"list-item":"list-item-no-detail",v=s&&o?{width:"100%",height:"300px",margin:"10px 0px 10px 0px",border:"none"}:{display:"none"},b=s&&o?o:"",p=s&&s?{display:"inline-block",margin:"0px 0px 0px 20px"}:{display:"none"};return i.a.createElement("div",{className:h,style:m},i.a.createElement("h2",null,t),i.a.createElement(f,{tags:n}),i.a.createElement("div",{className:"list-item-time-container"},a),i.a.createElement("iframe",{src:b,style:v}),i.a.createElement(N,{article:r}),i.a.createElement("a",{className:"list-item-a",style:d,href:window.location.href+"article?uid=".concat(c),target:"_blank"},"\u9605\u8bfb\u5168\u6587"),i.a.createElement("a",{className:"list-item-a",style:p,href:window.origin+b,target:"_blank"},"\u67e5\u770bDemo"))}}]),t}(n.Component),C=a(30),S=a.n(C),H=a(40),L="BEFORE_FETCH",I="FETCH_FAIL",U="FETCH_SUCCESS",_="MODIFY_HOME_PAGENUM";var D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={visitorNumber:0,getVisitorNumUrl:"/Index/Index/getVisitorNum"},a.fetchVisitorNumber=a.fetchVisitorNumber.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchVisitorNumber()}},{key:"fetchVisitorNumber",value:function(){var e=this;fetch("/Index/Index/getVisitorNum",{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===t.result.length||e.setState({visitorNumber:t.result[0].sumNum})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"announcement-div",style:{width:"100%",height:"300px",backgroundColor:"white",padding:"10px 10px 10px 10px"}},i.a.createElement("div",{className:"announcement-visitor_number"},"\u4eca\u65e5\u8bbf\u95ee\u4eba\u6570\uff1a",this.state.visitorNumber))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loadState:0},a.getLoadingStringState=a.getLoadingStringState.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getLoadingStringState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 1===e?"\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e......":2===e?"":"\u522b\u5212\u62c9\u4e86\uff0c\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684"}},{key:"render",value:function(){var e=this.props.loadState;return i.a.createElement("div",{style:{height:"50px",textAlign:"center"}},this.getLoadingStringState(e))}}]),t}(n.Component),T=(a(59),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"author-div announcement-div"},"\u5ba2\u6237\u7684\u601d\u8def\u6709\u65f6\u5019\u771f\u7684\u5f88\u6e05\u5947\u3002",i.a.createElement("br",null),i.a.createElement("br",null),"\u624b\u673aAPP\u5929\u5929\u7ed9\u7528\u6237\u53d1\u901a\u77e5\uff0c\u771f\u7684\u5f88\u70e6\u3002",i.a.createElement("div",{className:"roll-div"},i.a.createElement("div",{className:"roll-item1 roll-item"}),i.a.createElement("div",{className:"roll-item2 roll-item"}),i.a.createElement("div",{className:"roll-item3 roll-item"}),i.a.createElement("div",{className:"roll-item4 roll-item"}),i.a.createElement("div",{className:"roll-item5 roll-item"})))}}]),t}(n.Component)),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={homeContent:[],loadState:0,pageNum:0},a.lastScrollTime=0,a.scrollHandler=a.scrollHandler.bind(Object(b.a)(a)),a.fetchContent=a.fetchContent.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"scrollHandler",value:function(){var e=S()(".content-container").height(),t=S()(window).height(),a=S()(window).scrollTop(),n=new Date;if(150+a>=e-t){if(n-this.lastScrollTime<500)return;this.lastScrollTime=n,this.fetchContent()}}},{key:"fetchContent",value:function(){var e=this,t="/Index/Index/subIndex?limit=8";if(0===this.state.pageNum)t="/Index/Index/subIndex?start=0&limit=".concat(8);else{var a=5*(this.state.pageNum-1)+8;t="/Index/Index/subIndex?start=".concat(a,"&limit=5")}this.setState({loadState:1}),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){if(0===t.result.length)e.setState({loadState:3});else{var a=e.state.pageNum+1;e.setState({loadState:2,pageNum:a,homeContent:[].concat(Object(v.a)(e.state.homeContent),Object(v.a)(t.result))})}}))}},{key:"componentWillUnmount",value:function(){console.log("will Unmount"+this.state.pageNum),window.removeEventListener("scroll",this.scrollHandler)}},{key:"componentDidMount",value:function(){console.log("Did Unmount"+this.state.pageNum),window.addEventListener("scroll",this.scrollHandler),this.fetchContent(0)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"content-container-left"}),i.a.createElement("div",{className:"content-container"},i.a.createElement("div",{className:"content-container-header"}),this.state.homeContent.map((function(e){return i.a.createElement(k,{key:e.uid,title:e.title,time:e.upload_time,tags:e.tags?e.tags.split("."):[],uid:e.uid,article_sub:e.article_sub,detailA:!0,demoUrl:e.demoUrl,useDemoUrl:e.useDemoUrl,content_type:e.content_type})})),i.a.createElement(A,{loadState:this.state.loadState})),i.a.createElement("div",{className:"content-container-right"},i.a.createElement(D,null),i.a.createElement(T,null)))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={clientHeight:document.documentElement.clientHeight-80,clientWidth:document.documentElement.clientWidth},a.scrollTime=0,a.scrollHandler=a.scrollHandler.bind(Object(b.a)(a)),a.fetchContent=a.fetchContent.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"scrollHandler",value:function(){}},{key:"fetchContent",value:function(){}},{key:"render",value:function(){var e={width:this.state.clientWidth,height:this.state.clientHeight,border:"black",overflow:"auto",overflowX:"hidden",wordBreak:"break-all"};return i.a.createElement("div",{className:"scroll-div",style:e})}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(B,null))}}]),t}(n.Component),W=(n.Component,a(178),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={article:[]},a.fetchArticle=a.fetchArticle.bind(Object(b.a)(a)),a.getQueryVariable=a.getQueryVariable.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getQueryVariable",value:function(e){var t,a,n=[];if(void 0!=(t=window.location.href).split("?")[1]&&void 0!=t.split("=")[1]){a=t.split("?")[1];var i=[];i=(a=decodeURIComponent(a)).split("&");for(var r=0;r<i.length;r++)n[i[r].split("=")[0]]=i[r].split("=")[1]}return n[e]}},{key:"fetchArticle",value:function(e){var t=this,a="/Index/Index/getArticle?uid=".concat(e);fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.result&&t.setState({article:[].concat(Object(v.a)(t.state.article),Object(v.a)(e.result))})}))}},{key:"componentDidMount",value:function(){var e=this.getQueryVariable("uid");this.fetchArticle(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"article-con"},i.a.createElement("div",{className:"article-con-article"},this.state.article.map((function(e){return i.a.createElement(k,{key:e.uid,title:e.title,time:e.upload_time,tags:e.tags?e.tags.split("."):[],uid:e.uid,article_sub:e.article,demoUrl:e.demoUrl,useDemoUrl:e.useDemoUrl})}))))}}]),t}(n.Component)),P=a(43),F=a.n(P),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={navHide:!1,activeLi:"home"},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.location.hash.indexOf("article")>0&&this.setState({navHide:!0}),window.addEventListener("hashchange",(function(){window.location.hash.indexOf("article")>0?e.setState({navHide:!0,activeLi:"article"}):window.location.hash.indexOf("study")>0?e.setState({navHide:!1,activeLi:"study"}):window.location.hash.indexOf("life")>0?e.setState({navHide:!1,activeLi:"life"}):window.location.hash.indexOf("about")>0?e.setState({navHide:!1,activeLi:"about"}):e.setState({navHide:!1,activeLi:"home"}),console.log("hash change"+window.location)}))}},{key:"render",value:function(){var e={border:"blue 0px solid",borderBottomColor:"white",borderBottomWidth:"3px"},t={borderBottomColor:"none",borderBottomWidth:"0"},a={height:"0px",width:"100%"};return i.a.createElement("div",null,i.a.createElement(m.HashRouter,null,i.a.createElement("div",{style:this.state.navHide?{height:"0px",display:"none"}:{position:"fixed",backgroundColor:"rgb(14, 55, 63)",height:"60px",width:"100%",top:0,zIndex:2,textAlign:"center",boxShadow:"0px 1px 1px rgb(14, 55, 63)"},className:"nav-container"},i.a.createElement("div",{className:"nav"},i.a.createElement("ul",null,i.a.createElement("li",{href:"/",className:"tab-head-home tab-head",style:"home"===this.state.activeLi?e:t},i.a.createElement(m.Link,{to:"/"},"\u535a\u5ba2")),i.a.createElement("li",{href:"/",className:"tab-head-about tab-head",style:"about"===this.state.activeLi?e:t},i.a.createElement(m.Link,{to:"/about"},"\u5173\u4e8e")),i.a.createElement("li",{href:"/",className:"tab-head-about tab-head",style:"article"===this.state.activeLi?e:t},i.a.createElement(m.Link,{className:"item-hide",to:"/article"},"Article"))))),i.a.createElement("div",{style:this.state.navHide?a:{height:"60px",width:"100%"},className:"content-container-top"}),i.a.createElement(P.CacheSwitch,null,i.a.createElement(F.a,{exact:!0,saveScrollPosition:!0,style:a,path:"/"},i.a.createElement(V,null)),i.a.createElement(h.d,{path:"/about"},i.a.createElement(M,null)),i.a.createElement(h.d,{path:"/article"},i.a.createElement(W,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(18),Q=a(66),J={homeContent:[]};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{homeContent:[]};case U:return{homeContent:t.homeContent};case L:return{homeContent:[]};default:return e}},X={pageNum:0};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{pageNum:t.pageNum};default:return e}},$=Object(G.c)({fetchReducer:z,pageReducer:Y}),q=Object(G.d)($,Object(G.a)(Q.a));window.isProduct=!0,l.a.render(i.a.createElement(H.a,{store:q},i.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){},59:function(e,t,a){},67:function(e,t,a){e.exports=a(180)},72:function(e,t,a){},73:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.ef2e794c.chunk.js.map