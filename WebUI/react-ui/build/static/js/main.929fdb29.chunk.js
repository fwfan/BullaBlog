(window["webpackJsonpreact-ui"]=window["webpackJsonpreact-ui"]||[]).push([[0],{176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),i=(a(69),a(70),a(2)),o=a(3),s=a(5),u=a(4),m=a(6),h=a(19),d=a(15),b=a(43),v=a(16),f=(a(71),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tags;return r.a.createElement("div",{className:"list-item-tag-container"}," \u6807\u7b7e\uff1a",e.map((function(e){return r.a.createElement("span",{key:e,className:"list-item-tag"},e)})))}}]),t}(n.Component)),p=a(57),g=a.n(p),E=a(183),j=a(182),O=a(180),y=a(181),C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){E.a.registerLanguage("jsx",O.a),E.a.registerLanguage("javascript",y.a)}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.value;return r.a.createElement("figure",{className:"highlight"},r.a.createElement(E.a,{language:t,style:j.a},a))}}]),t}(n.PureComponent);C.defaultProps={language:null};var N=C,w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.article;return r.a.createElement("div",null,r.a.createElement(g.a,{source:e,renderers:{code:N}}))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.time,n=e.tags,c=e.article_sub;return r.a.createElement("div",{className:"list-item"},r.a.createElement("h3",null,t),r.a.createElement(f,{tags:n}),r.a.createElement("div",{className:"list-item-time-container"},a),r.a.createElement(w,{article:c}),r.a.createElement("hr",null))}}]),t}(n.Component),k=a(29),x=a.n(k),I=a(38),L="BEFORE_FETCH",H="FETCH_FAIL",_="FETCH_SUCCESS",T="MODIFY_HOME_PAGENUM";var D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"none",padding:"20px 20px 20px 0px"}},r.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",width:"100%",height:"30px"}},"\u516c\u544a"),r.a.createElement("div",null,"\u5730\u9707\u9884\u8b66\u56db\u5ddd\u7701\u91cd\u70b9\u5b9e\u9a8c\u5ba4\u4e3b\u4efb\u3001\u6210\u90fd\u9ad8\u65b0\u51cf\u707e\u7814\u7a76\u6240\u6240\u957f\u738b\u66be\u535a\u58eb\u8868\u793a\uff0c\u201c\u6751\u6751\u54cd\u201d\u63a5\u5165\u5730\u9707\u9884\u8b66\u529f\u80fd\uff0c\u662f\u5728\u5404\u5730\u5404\u7ea7\u653f\u5e9c\u7684\u6388\u6743\u4e0b\u3001\u76f8\u5173\u5355\u4f4d\u7d27\u5bc6\u5408\u4f5c\u7684\u7ed3\u679c\uff0c\u662f\u6253\u901a\u5730\u9707\u9884\u8b66\u201c\u6700\u540e\u4e00\u516c\u91cc\u201d\u7684\u91cd\u8981\u6e20\u9053\u3002"))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loadState:0},a.getLoadingStringState=a.getLoadingStringState.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getLoadingStringState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 1===e?"\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e......":2===e?"\u52a0\u8f7d\u5b8c\u6bd5!":"\u522b\u5212\u62c9\u4e86\uff0c\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684"}},{key:"render",value:function(){var e=this.props.loadState;return r.a.createElement("div",{style:{height:"50px",textAlign:"center"}},this.getLoadingStringState(e))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={homeContent:[],loadState:0,pageNum:0},a.lastScrollTime=0,a.scrollHandler=a.scrollHandler.bind(Object(v.a)(a)),a.fetchContent=a.fetchContent.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"scrollHandler",value:function(){var e=x()(".content-container").height(),t=x()(window).height(),a=x()(window).scrollTop(),n=new Date;if(150+a>=e-t){if(n-this.lastScrollTime<500)return;this.lastScrollTime=n,this.fetchContent()}}},{key:"fetchContent",value:function(){var e=this,t="/Index/Index/subIndex?limit=8";if(0===this.state.pageNum)t="/Index/Index/subIndex?start=0&limit=".concat(8);else{var a=5*(this.state.pageNum-1)+8;t="/Index/Index/subIndex?start=".concat(a,"&limit=5")}this.setState({loadState:1}),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){if(0===t.result.length)e.setState({loadState:3});else{var a=e.state.pageNum+1;e.setState({loadState:2,pageNum:a,homeContent:[].concat(Object(b.a)(e.state.homeContent),Object(b.a)(t.result))})}}))}},{key:"componentWillUnmount",value:function(){console.log("will Unmount"+this.state.pageNum),window.removeEventListener("scroll",this.scrollHandler)}},{key:"componentDidMount",value:function(){console.log("Did Unmount"+this.state.pageNum),window.addEventListener("scroll",this.scrollHandler),this.fetchContent()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-container-left"}),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"content-container-header"}),this.state.homeContent.map((function(e){return r.a.createElement(S,{key:e.uid,title:e.title,time:e.upload_time,tags:e.tags?e.tags.split("."):[],article_sub:e.article_sub})})),r.a.createElement(F,{loadState:this.state.loadState})),r.a.createElement("div",{className:"content-container-right"},r.a.createElement(D,null),r.a.createElement("div",{className:"content-container-right-ajax-test",id:"content-container-right-ajax-test"})))}}]),t}(n.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About"),r.a.createElement("div",null))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Life"),r.a.createElement("div",null))}}]),t}(n.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{href:"/",className:"tab-head-home tab-head"},r.a.createElement(h.b,{to:"/"},"\u9996\u9875")),r.a.createElement("li",{href:"/",className:"tab-head-home tab-head"},r.a.createElement(h.b,{to:"/study"},"\u5b66\u4e60")),r.a.createElement("li",{href:"/",className:"tab-head-about tab-head"},r.a.createElement(h.b,{to:"/life"},"\u6742\u788e")),r.a.createElement("li",{href:"/",className:"tab-head-about tab-head"},r.a.createElement(h.b,{to:"/about"},"Demo"))))),r.a.createElement("div",{className:"content-container-top"}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/study"},r.a.createElement(M,null)),r.a.createElement(d.a,{path:"/life"},r.a.createElement(U,null)),r.a.createElement(d.a,{path:"/about"},r.a.createElement(M,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(18),P=a(63),R={homeContent:[]};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{homeContent:[]};case _:return{homeContent:t.homeContent};case L:return{homeContent:[]};default:return e}},J={pageNum:0};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{pageNum:t.pageNum};default:return e}},$=Object(B.c)({fetchReducer:G,pageReducer:Y}),q=Object(B.d)($,Object(B.a)(P.a));l.a.render(r.a.createElement(I.a,{store:q},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,a){e.exports=a(176)},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.929fdb29.chunk.js.map